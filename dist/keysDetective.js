"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.findMissingKeys=void 0;const config_1=require("./config"),logger_1=require("./helpers/logger"),resolveConfig_1=require("./helpers/resolveConfig"),buildKeys_1=require("./keysBuilder/buildKeys"),compareKeysToFiles_1=require("./keysDetective/compareKeysToFiles"),getTranslationFilesPath_1=require("./keysDetective/getTranslationFilesPath"),messages_1=require("./messages");function findMissingKeys(e){const s=logger_1.getLogger(),i=resolveConfig_1.resolveConfig(e);if(config_1.setConfig(i),0===getTranslationFilesPath_1.getTranslationFilesPath(i.translationsPath).length)return void console.log("No translation files found.");s.log("\n 🕵 🔎",`[4m${messages_1.messages.startSearch}[0m`,"🔍 🕵\n"),s.startSpinner(`${messages_1.messages.extract} `);const r=buildKeys_1.buildKeys(i);s.success(`${messages_1.messages.extract} 🗝`),compareKeysToFiles_1.compareKeysToFiles({scopeToKeys:r.scopeToKeys,translationPath:i.translationsPath,addMissingKeys:i.addMissingKeys,emitErrorOnExtraKeys:i.emitErrorOnExtraKeys})}exports.findMissingKeys=findMissingKeys;