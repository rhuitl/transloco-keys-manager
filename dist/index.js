#!/usr/bin/env node
"use strict";var __importDefault=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(exports,"__esModule",{value:!0});const command_line_args_1=__importDefault(require("command-line-args")),command_line_usage_1=__importDefault(require("command-line-usage")),cliOptions_1=require("./cliOptions"),keysBuilder_1=require("./keysBuilder"),keysDetective_1=require("./keysDetective");require("./polyfills");const mainDefinitions=[{name:"command",defaultOption:!0}],mainOptions=command_line_args_1.default(mainDefinitions,{stopAtFirstUnknown:!0}),argv=mainOptions._unknown||[],config=command_line_args_1.default(cliOptions_1.optionDefinitions,{camelCase:!0,argv:argv}),{help:help}=config;if(help){const i=command_line_usage_1.default(cliOptions_1.sections);console.log(i),process.exit()}config.command=mainOptions.command,config.input&&(config.input=config.input.split(",")),"extract"===mainOptions.command?keysBuilder_1.buildTranslationFiles(config):"find"===mainOptions.command?keysDetective_1.findMissingKeys(config):console.log("Please provide an action...");