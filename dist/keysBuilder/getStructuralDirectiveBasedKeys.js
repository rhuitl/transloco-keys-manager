"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getStructuralDirectiveBasedKeys=void 0;const regexs_1=require("../regexs"),types_1=require("../types");function getStructuralDirectiveBasedKeys(e,r,t){let s,a,c,i=[];if(r===types_1.TEMPLATE_TYPE.STRUCTURAL){const r=e.attribs.__transloco;s=null==(a=r.match(/read:\s*('|")(?<read>[^"']*)\1/))?void 0:a.groups.read,c=r.match(/let\s+(?<varName>\w*)/).groups.varName}else{const r=Object.keys(e.attribs);c=(r.find(e=>e.includes("let-"))||"").replace("let-",""),s=(a=r.find(e=>"translocoread"===e||"[translocoread]"===e))&&e.attribs[a].replace(/'|"/g,"")}if(c){const e=regexs_1.regexs.templateKey(c),r=regexs_1.regexs.structuralDirectiveTernary(c);let s=e.exec(t),a=r.exec(t);for(;s;)i.push(s.groups.key),s=e.exec(t);for(;a;){const{keyA:e,keyB:s}=a.groups;i.push(e,s),a=r.exec(t)}}return{translationKeys:i,read:s}}exports.getStructuralDirectiveBasedKeys=getStructuralDirectiveBasedKeys;