"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.buildTable=void 0;const chalk_1=__importDefault(require("chalk")),cli_table3_1=__importDefault(require("cli-table3")),logger_1=require("../helpers/logger"),messages_1=require("../messages"),mapDiffToKeys_1=require("./mapDiffToKeys");function buildTable({langs:e,diffsPerLang:s,addMissingKeys:l,emitErrorOnExtraKeys:t}){const i=logger_1.getLogger();if(e.length>0){let a=!1,r=!1;i.success(`[4m${messages_1.messages.summary}[0m\n`);const o=new cli_table3_1.default({style:{border:["white"]},head:["File Name","Missing Keys","Extra Keys"].map(e=>chalk_1.default.cyan(e))});for(let l=0;l<e.length;l++){const t=[],{missing:i,extra:u}=s[e[l]],g=i.length>0,n=u.length>0;(n||g)&&(t.push(chalk_1.default.blueBright(e[l])),g?(t.push(mapDiffToKeys_1.mapDiffToKeys(i,"rhs")),a=!0):t.push("--"),n?(t.push(mapDiffToKeys_1.mapDiffToKeys(u,"lhs")),r=!0):t.push("--"),o.push(t))}i.log(o.toString()),a&&(l?i.success("Added all missing keys\n"):process.exit(1)),r&&t&&process.exit(2)}else i.log(`\nðŸŽ‰ ${messages_1.messages.noMissing} ðŸŽ‰\n`);i.log("\n")}exports.buildTable=buildTable;